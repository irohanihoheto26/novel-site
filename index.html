<!DOCTYPE html>
<html lang="ja" translate="no">
<head>
<meta charset="UTF-8">
<meta name="google" content="notranslate">
<title>最終テスト</title>
</head>
<body>
    <h2>アカウント作成テスト</h2>
    <input type="email" id="email" placeholder="メール" value="test@example.com">
    <input type="password" id="password" placeholder="パスワード(6文字以上)" value="password123">
    <button id="regBtn">登録ボタンを押す</button>
    <p id="msg">翻訳をオフにしてからボタンを押してください</p>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script>
        const URL = 'https://fnobmngpstzolphexluc.supabase.co';
        const KEY = 'sb_publishable_wczOfUdvKuScZQJ0Lklx0w_D9XtJPqE';
        const myApp = window.supabase.createClient(URL, KEY);

        document.getElementById('regBtn').onclick = async () => {
            const e = document.getElementById('email').value;
            const p = document.getElementById('password').value;
            document.getElementById('msg').innerText = "通信中...";

            const { data, error } = await myApp.auth.signUp({ email: e, password: p });

            if (error) {
                alert("エラー: " + error.message);
                document.getElementById('msg').innerText = "エラー: " + error.message;
            } else {
                alert("大成功！Usersを確認してください！");
                document.getElementById('msg').innerText = "成功しました！";
            }
        };
    </script>
</body>
</html>
